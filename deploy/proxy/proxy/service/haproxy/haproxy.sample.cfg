global
      log /dev/log local0 debug
      log-send-hostname
      debug
      maxconn 4096
      pidfile /var/run/haproxy.pid
      daemon
      stats socket /var/run/haproxy.stats level admin
      ssl-default-bind-options no-sslv3
      ssl-default-bind-ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE
    defaults
      balance roundrobin
      log global
      mode tcp
      option redispatch
      option httplog
      option dontlognull
      timeout connect 5000
      timeout client 50000
      timeout server 50000
      default-server init-addr last,libc
      retries 999
    listen stats
      bind :1936
      mode http
      stats enable
      timeout connect 10s
      timeout client 1m
      timeout server 1m
      stats hide-version
      stats realm Haproxy\ Statistics
      stats uri /
      stats auth stats:stats
    listen gporev-queue
      mode tcp
      option tcplog
      bind :5672
      balance roundrobin
      server q1 gporev-queue1:5672 check fall 3 rise 2
      server q2 gporev-queue2:5672 check fall 3 rise 2
      server q3 gporev-queue3:5672 check fall 3 rise 2
